{% extends "base.html" %}
{% block content %}
<div class="page-head">
  <h1 class="h1">Service Providers</h1>
  <div class="sub">Browse providers by name or category</div>
</div>

<div class="card">
  <form method="get" class="filters">
    <input type="text" name="q" value="{{ request.GET.q }}" placeholder="Search by name">
    <input type="text" name="category" value="{{ request.GET.category }}" placeholder="Category (e.g. Electrician)">
    <button class="btn" type="submit">Filter</button>
    <a class="btn ghost" href="{% url 'providers:list' %}">Reset</a>
  </form>

  <table class="table">
    <thead><tr><th>Name</th><th>Category</th><th>Phone</th><th>Email</th></tr></thead>
    <tbody>
      {% for p in object_list %}
      <tr>
        <td>{{ p.full_name }}</td>
        <td>{{ p.category.name }}</td>
        <td>{{ p.phone|default:"—" }}</td>
        <td>{{ p.email|default:"—" }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="4" class="muted">No providers found.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
